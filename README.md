# 智能天气信息网页 - 使用指南

## 📖 项目简介

这是一个基于 Next.js 开发的现代化智能天气信息单页应用，提供实时天气查询、5天天气预报以及智能生活建议功能。

## ✨ 主要特性

### 核心功能
- 🌤️ **实时天气查询** - 获取任意城市的当前天气信息
- 📅 **5天天气预报** - 查看未来天气趋势
- 💡 **智能生活建议** - 穿衣、出行、运动、雨具建议
- 🌏 **中文城市支持** - 支持 200+ 中国城市中文名称
- 📍 **地理定位** - 一键获取当前位置天气
- 🔍 **智能搜索** - 城市联想和防抖搜索

### 界面特色
- 🎨 **玻璃态设计** - 现代感十足的半透明界面
- 🌈 **动态背景** - 根据天气自动切换 8 种背景主题
- 📱 **响应式设计** - 完美适配手机、平板、电脑
- ⚡ **流畅动画** - 页面元素淡入滑入效果
- 🌓 **白天/夜晚模式** - 根据时间自动切换

## 🚀 快速开始

### 环境要求
- Node.js 18+
- npm 或 yarn 或 pnpm

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd weather-app
```

2. **安装依赖**
```bash
npm install
```

3. **配置 API Key**

创建 `.env.local` 文件：
```env
NEXT_PUBLIC_OPENWEATHER_API_KEY=你的API密钥
```

获取 API Key：访问 [OpenWeatherMap](https://openweathermap.org/api) 注册并获取免费 API Key

4. **启动开发服务器**
```bash
npm run dev
```

5. **访问应用**

打开浏览器访问：http://localhost:3000

## 📱 使用说明

### 方法一：手动输入城市（推荐）⭐

1. 在搜索框输入城市名称（支持中英文）
   - 中文：北京、上海、广州、深圳...
   - 英文：Beijing, London, Tokyo, Paris...

2. 点击 **查询** 按钮或按 **Enter**

3. 查看天气信息

### 方法二：使用定位功能

1. 点击 **🎯 定位按钮**

2. 浏览器会请求位置权限，点击 **允许**

3. 自动获取当前位置的天气

4. 如果定位不准确，建议手动输入城市名称

### 方法三：城市联想选择

1. 开始输入城市名称

2. 系统会自动显示匹配的城市列表

3. 使用 **上下方向键** 选择城市

4. 按 **Enter** 确认查询

## 🎯 功能详解

### 当前天气信息

显示内容：
- 🌡️ 温度和体感温度
- ☁️ 天气状况（晴、多云、雨等）
- 💨 风速和风向
- 💧 湿度
- 🔽 气压
- 👁️ 能见度
- 🌅 日出时间
- 🌇 日落时间

### 天气预报

- 📆 未来 5 天天气趋势
- 🌡️ 每日最高/最低温度
- ☁️ 天气状况
- 💧 降雨概率

### 智能生活建议

根据实时天气自动生成：

1. **👔 穿衣建议**
   - 基于温度推荐衣物
   - 分为严寒、寒冷、凉爽、温暖、炎热等级别

2. **🚗 出行建议**
   - 根据天气状况提供出行提示
   - 考虑降雨、降雪、雾霾、大风等因素

3. **🏃 运动建议**
   - 综合温度、湿度、天气状况
   - 推荐室内或户外运动

4. **☂️ 雨具建议**
   - 基于降雨概率
   - 提醒是否需要携带雨具

## 🌍 支持的城市

### 中国城市（200+）

**直辖市**：北京、上海、天津、重庆

**省会城市**：
广州、深圳、成都、杭州、武汉、西安、南京、郑州、沈阳、长沙、哈尔滨、济南、青岛、大连、昆明、厦门、合肥、南昌、石家庄、长春、太原、南宁、贵阳、福州、海口、兰州、呼和浩特、乌鲁木齐、银川、西宁、拉萨

**其他重要城市**：
苏州、无锡、宁波、温州、珠海、东莞、佛山、中山、惠州、江门、湛江、汕头、潮州、揭阳、梅州、茂名、肇庆、韶关、清远、阳江、河源、汕尾、云浮、南通、常州、徐州、扬州、镇江、泰州、盐城、淮安、连云港、宿迁、嘉兴、湖州、绍兴、金华、衢州、台州、丽水、舟山... 等

**港澳台**：香港、澳门、台北、高雄、台中、台南

### 国际城市

支持全球所有主要城市（英文名）：
London, Paris, New York, Tokyo, Seoul, Singapore, Sydney, Dubai, Moscow, Berlin, Rome, Madrid, Amsterdam, Bangkok, Istanbul 等

## ⚙️ 常见问题

### Q1: 为什么定位不准确？

**答**：浏览器地理定位主要依赖 IP 地址，精度有限：
- 台式机/笔记本：IP 定位，精度约为城市级别
- 移动设备：可使用 GPS，精度更高
- 不同浏览器使用不同定位服务，结果可能不同
- **建议**：手动输入城市名称获取最准确结果

### Q2: Edge 和 Chrome 定位结果不同？

**答**：这是正常现象！
- Edge 使用 Microsoft/Bing 定位服务
- Chrome 使用 Google 定位服务
- 不同服务的数据库和算法不同
- **建议**：使用手动输入方式

### Q3: 图片无法显示怎么办？

**答**：
1. 清除浏览器缓存（Ctrl+Shift+Delete）
2. 硬刷新页面（Ctrl+F5）
3. 重启开发服务器
4. 检查网络连接

### Q4: 如何添加更多城市？

**答**：编辑 `utils/cityMapping.ts` 文件，添加城市映射：
```typescript
'你的城市': 'YourCity',
```

### Q5: API 调用次数限制？

**答**：免费版 OpenWeatherMap API：
- 每分钟 60 次调用
- 每天 1,000,000 次调用
- 应用已实现缓存，大幅减少调用次数

## 🛠️ 技术栈

- **框架**: Next.js 16 (App Router)
- **语言**: TypeScript
- **样式**: Tailwind CSS 4
- **API**: OpenWeatherMap API
- **图标**: Emoji + OpenWeatherMap Icons

## 📁 项目结构

```
weather-app/
├── app/                    # Next.js App Router
│   ├── api/               # API 路由
│   │   ├── weather/       # 当前天气 API
│   │   ├── forecast/      # 天气预报 API
│   │   └── reverse-geocode/ # 反向地理编码 API
│   ├── components/        # React 组件
│   │   ├── CitySearch.tsx    # 城市搜索
│   │   ├── WeatherCard.tsx   # 天气卡片
│   │   ├── ForecastCard.tsx  # 预报卡片
│   │   ├── LifeAdvice.tsx    # 生活建议
│   │   └── WeatherIcon.tsx   # 天气图标
│   ├── globals.css        # 全局样式
│   ├── layout.tsx         # 根布局
│   └── page.tsx           # 主页面
├── types/                 # TypeScript 类型
│   └── weather.ts
├── utils/                 # 工具函数
│   ├── cityMapping.ts         # 城市映射
│   ├── lifeAdvice.ts          # 生活建议
│   └── backgroundSelector.ts  # 背景选择
└── lib/                   # 项目文档
    ├── log.md            # 变更日志
    ├── architecture.md   # 架构文档
    └── README_CN.md      # 本文档
```

## 🌐 浏览器支持

| 浏览器 | 最低版本 | 状态 |
|--------|---------|------|
| Chrome | 90+ | ✅ 完全支持 |
| Edge | 90+ | ✅ 完全支持 |
| Firefox | 88+ | ✅ 完全支持 |
| Safari | 14+ | ✅ 完全支持 |

## 📄 相关文档

- [系统架构文档](./architecture.md) - 详细技术架构
- [变更日志](./log.md) - 完整开发记录

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📝 许可证

MIT License

---

**项目版本**: v1.1
**最后更新**: 2025-10-25
**开发工具**: Warp AI
